<div class="rules-container" *ngIf="rules.length; else noRules">
  <div class="header">
    <h2>Rules</h2>
    <button (click)="onCreate()">
      <mat-icon>add</mat-icon> Create a rule
    </button>
  </div>

  <table mat-table [dataSource]="rules" class="mat-elevation-z1">

    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef class="custom-header-cell">ID</th>
      <td mat-cell *matCellDef="let rule">{{ rule.id }}</td>
    </ng-container>

    <!-- <ng-container matColumnDef="repositoryId">
      <th mat-header-cell *matHeaderCellDef>Repository</th>
      <td mat-cell *matCellDef="let rule">
        <span class="rule-chip">{{ rule.repositoryId }}</span>
      </td>
    </ng-container> -->

    <ng-container matColumnDef="repositoryName">
      <th mat-header-cell *matHeaderCellDef class="custom-header-cell">RepositoryName</th>
      <td mat-cell *matCellDef="let rule">
        <span class="rule-chip">{{ rule.repository.name }}</span>
      </td>
    </ng-container>

    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef class="custom-header-cell">Name</th>
      <td mat-cell *matCellDef="let rule">{{ rule.title }}</td>
    </ng-container>

    <ng-container matColumnDef="text">
      <th mat-header-cell *matHeaderCellDef class="custom-header-cell">Rule</th>
      <td mat-cell *matCellDef="let rule">{{ rule.text }}</td>
    </ng-container>

    <ng-container matColumnDef="userId">
      <th mat-header-cell *matHeaderCellDef class="custom-header-cell">Created by</th>
      <td mat-cell *matCellDef="let rule">{{ rule.userId }}</td>
    </ng-container>

    <!-- <ng-container matColumnDef="updatedBy">
      <th mat-header-cell *matHeaderCellDef>Updated by</th>
      <td mat-cell *matCellDef="let rule">{{ rule.updatedBy || 'Not updated yet' }}</td>
    </ng-container>

    <ng-container matColumnDef="updatedAt">
      <th mat-header-cell *matHeaderCellDef>Updated at</th>
      <td mat-cell *matCellDef="let rule">{{ rule.updatedAt }}</td>
    </ng-container> -->

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="rule-row" (click)="onEdit(row.id)"></tr>
  </table>
</div>

<ng-template #noRules>
  <div class="empty-state">
    <mat-icon class="empty-icon">block</mat-icon>
    <p class="title">There are no rules...</p>
    <p>Go ahead and create a rule, which you can use to apply to any repository you want.</p>
    <div class="actions">
      <button  (click)="onCreate()">Create a rule</button>
      <!-- <button >Rule templates</button> -->
    </div>
  </div>
</ng-template>
